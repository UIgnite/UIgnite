{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"messagebot","type":"registry:ui","dependencies":[],"files":[{"content":"import {useState} from 'react';\n\nexport interface MessageBotParams {\n  orgName?: string;\n  themeColor?: string;\n  url?: string;\n  alt?: string;\n}\nexport interface Message {\n  text: string;\n  sender: 'user' | 'bot';\n}\n\nconst MessageBot = ({\n  orgName = 'UIgnite',\n  themeColor = 'bg-gray-800',\n  url,\n  alt,\n}: MessageBotParams) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [input, setInput] = useState('');\n  const [count, setCount] = useState(1);\n  // messages will be array of objects and objects should have a sender and the text\n  const [messages, setMessages] = useState<Message[]>([]);\n  const sendMessage = () => {\n    if (!input.trim()) return;\n\n    const newMessage: Message = {text: input, sender: 'user'};\n    const updatedMessages = [...messages, newMessage];\n    setMessages(updatedMessages);\n    setInput('');\n    // console.log(messages)\n\n    const botResponse: Message = {\n      text: `bot response ${count + 1} `,\n      sender: 'bot',\n    };\n    setCount(count + 1);\n    // console.log(count)\n    setTimeout(() => {\n      setMessages((currentMessages) => [...currentMessages, botResponse]);\n      //   console.log(messages);\n    }, 800);\n  };\n\n  return (\n    <>\n      <div className=\" fixed bottom-5 right-5\">\n        <button\n          className={`cursor-pointer w-16 h-16 ${themeColor} text-white rounded-full shadow-lg flex items-center justify-center text-2xl`}\n          onClick={() => setIsOpen(!isOpen)}\n        >\n          ðŸ’¬\n        </button>\n\n        {isOpen && (\n          <div className=\" fixed bottom-23 right-8 w-80 h-120 bg-white rounded-lg \">\n            <div className=\"flex flex-col \">\n              <div\n                className={`p-3 ${themeColor} text-white flex justify-between items-center rounded-t-lg`}\n              >\n                <span>{orgName}</span>\n                <button\n                  className=\" cursor-pointer p-1 text-white text-sm font-bold\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  <img src=\"circle-x.svg\" alt=\"\" />\n                </button>\n              </div>\n\n              <div className=\"flex-1 p-3 overflow-y-auto bg-white\">\n                <p>Welcome to {orgName} chatbot </p>\n              </div>\n            </div>\n\n            {/* Chat Messages  */}\n\n            <div className=\"flex flex-col   p-3 overflow-y-auto space-y-2 min-h-[65%] max-h-[65%]\">\n              <div className=\"flex-grow\"></div>\n              {messages.map((msg, index) => (\n                <>\n                  <div className=\"flex\">\n                    {msg.sender === 'user' && (\n                      <img\n                        className=\"rounded-full  m-2 h-5 w-5 object-cover\"\n                        src={msg.sender == 'user' ? url : alt}\n                        alt={alt}\n                      />\n                    )}\n                    <div\n                      key={index}\n                      className={` text-black p-2 min-w-[80%] overflow-x-clip rounded-md  ${msg.sender === 'user' ? 'bg-gray-200 self-start text-left mr-30000 ' : 'bg-orange-200 self-end text-right ml-9 '}`}\n                    >\n                      {msg.text}\n                    </div>\n                    {msg.sender === 'bot' && (\n                      <img\n                        className=\"rounded-full m-2 h-5 w-5 object-cover\"\n                        src={alt}\n                        alt={alt}\n                      />\n                    )}\n                  </div>\n                </>\n              ))}\n            </div>\n\n            <div className=\"flex justify-between p-3 border-t border-gray-300 \">\n              <input\n                type=\"text\"\n                placeholder=\"Type a message...\"\n                className=\" p-2 text-black border rounded-md outline-none min-w-[80%]\"\n                onChange={(e) => {\n                  setInput(e.target.value);\n                }}\n              />\n\n              <button\n                className={`cursor-pointer ml-2 px-4 py-2 ${themeColor} text-white rounded-md`}\n                onClick={sendMessage}\n              >\n                âž¤\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default MessageBot;\n","type":"registry:ui","path":"packages/uignite/src/components/MessageBot/MessageBot.tsx"}]}