{"name":"messagebot","type":"registry:ui","dependencies":[],"files":[{"path":"packages/uignite/src/components/MessageBot/MessageBot.tsx","type":"registry:ui","content":"import {useState} from 'react';\n\nexport interface MessageBotParams {\n  orgName?: string;\n  themeColor?: string;\n  url?: string;\n  alt?: string;\n}\n\nexport interface Message {\n  text: string;\n  sender: 'user' | 'bot';\n}\n\nconst MessageBot = ({\n  orgName = 'UIgnite',\n  themeColor = 'bg-blue-600',\n  url = '/assets/logo.webp',\n  // alt,\n}: MessageBotParams) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [input, setInput] = useState('');\n  const [count, setCount] = useState(1);\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      text: `Hi I am ${orgName} bot. How can I help you?`,\n      sender: 'bot',\n    },\n  ]);\n\n  const sendMessage = () => {\n    if (!input.trim()) return;\n\n    const userMessage: Message = {text: input, sender: 'user'};\n    const botMessage: Message = {\n      text: `bot response ${count + 1}`,\n      sender: 'bot',\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    setInput('');\n    setCount(count + 1);\n\n    setTimeout(() => {\n      setMessages((prev) => [...prev, botMessage]);\n    }, 800);\n  };\n\n  return (\n    <div className=\"z-[1000] fixed bottom-5 right-5\">\n      {/* Overlay: Jab isOpen true ho, toh poori screen dark ya blur karne ke liye */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/30 z-[1000]\"\n          onClick={() => setIsOpen(false)} // Overlay click se chatbot close hoga\n        ></div>\n      )}\n\n      {/* Floating Button */}\n      <button\n        className={`cursor-pointer z-[1000] w-16 h-16 ${themeColor} text-white rounded-full shadow-lg flex items-center justify-center text-2xl hover:scale-105 transition-transform duration-200`}\n        onClick={() => setIsOpen(!isOpen)}\n      >\n        ðŸ’¬\n      </button>\n\n      {/* Chatbot Box */}\n      {isOpen && (\n        <div className=\"z-[1000] fixed bottom-[6.5rem] right-8 w-80 h-[32rem] bg-white rounded-lg shadow-2xl flex flex-col overflow-hidden\">\n          {/* Header */}\n          <div\n            className={`p-4 ${themeColor} text-white text-left items-center`}\n          >\n            <button\n              className=\"p-1 rounded-full hover:bg-white hover:text-black transition-colors duration-200\"\n              onClick={() => setIsOpen(false)}\n            >\n              <img src=\"/assets/logo.webp\" alt=\"Close\" className=\"w-6 h-6\" />\n            </button>\n            <span className=\"text-lg font-semibold\">{orgName}</span>\n          </div>\n\n          {/* Messages */}\n          <div className=\"flex-1 px-3 py-4 overflow-y-auto space-y-3 bg-gray-50\">\n            {messages.map((msg, index) => (\n              <div\n                key={index}\n                className={`flex items-end ${msg.sender === 'user' ? 'justify-start' : 'justify-end'}`}\n              >\n                {msg.sender === 'user' && (\n                  <img\n                    className=\"rounded-full h-6 w-6 object-cover mr-2\"\n                    src={url || 'https://avatar.iran.liara.run/public'}\n                    alt=\"User\"\n                  />\n                )}\n                <div\n                  className={`max-w-[75%] px-3 py-2 text-sm rounded-md shadow-sm ${\n                    msg.sender === 'user'\n                      ? 'bg-gray-200 text-black rounded-bl-none'\n                      : 'bg-blue-100 text-black rounded-br-none'\n                  }`}\n                >\n                  {msg.text}\n                </div>\n                {msg.sender === 'bot' && (\n                  <img\n                    className=\"rounded-full h-6 w-6 object-cover ml-2\"\n                    src={'https://avatar.iran.liara.run/public'}\n                    alt=\"Bot\"\n                  />\n                )}\n              </div>\n            ))}\n          </div>\n\n          {/* Input Area */}\n          <div className=\"p-3 border border-t border-  flex items-center gap-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Type a message...\"\n              className=\"flex-1 p-2 border dark:border-gray-400 text-black rounded-md dark:text:black text-sm\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={(e) => e.key === 'Enter' && sendMessage()}\n            />\n            <button\n              className={`px-4 py-2 ${themeColor} text-white rounded-md hover:opacity-90 transition`}\n              onClick={sendMessage}\n            >\n              âž¤\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessageBot;\n"}]}